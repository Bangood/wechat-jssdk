window.__require=function e(t,o,i){function n(r,s){if(!o[r]){if(!t[r]){var a=r.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+r+"'")}}var d=o[r]={exports:{}};t[r][0].call(d.exports,function(e){return n(t[r][1][e]||e)},d,d.exports,e,t,o,i)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({AudioManager:[function(e,t,o){"use strict";cc._RF.push(t,"2c345WpydtL14G4u1GYzmB/","AudioManager");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgMusic=null,t}return i(t,e),t.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node),this.play()},t.prototype.play=function(){this.bgAudioID=cc.audioEngine.playMusic(this.bgMusic,!0),console.log(this.bgAudioID)},t.prototype.resume=function(){cc.audioEngine.resume(this.bgAudioID),console.log("resume",this.bgAudioID)},n([s({type:cc.AudioClip})],t.prototype,"bgMusic",void 0),t=n([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],BaseFood:[function(e,t,o){"use strict";cc._RF.push(t,"ccb924sCh5Mjpcr82zN17EU","BaseFood");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skinSprite=null,t.skinAltas=null,t.prefix="",t}return i(t,e),Object.defineProperty(t.prototype,"type",{set:function(e){var t=this;this._type=e,this.skinSprite.spriteFrame=this.skinAltas.getSpriteFrame(""+this.prefix+e),cc.director.on("cookAnimation",function(){t.playAnimation()},this),cc.director.on("cookShow",function(){t.show()})},enumerable:!0,configurable:!0}),t.prototype.show=function(){this.node.runAction(cc.fadeTo(.8,30))},t.prototype.playAnimation=function(){var e=this.node.position,t=Math.floor(30*Math.random()),o=Math.floor(10*Math.random()),i=e.x,n=e.y,c=t;this.node.runAction(cc.repeatForever(cc.sequence(cc.moveTo(.03,cc.v2(i+(5+c),n+(c+7))),cc.moveTo(.03,cc.v2(i-(6+c),n+(c+7))),cc.moveTo(.03,cc.v2(i-(13+c),n+(c+3))),cc.rotateTo(.03,o),cc.moveTo(.03,cc.v2(i+(3+c),n-(6+c))),cc.moveTo(.03,cc.v2(i-(5+c),n+(c+5))),cc.moveTo(.03,cc.v2(i+(2+c),n-(8+c))),cc.rotateTo(.03,0),cc.moveTo(.03,cc.v2(i-(8+c),n-(10+c))),cc.moveTo(.03,cc.v2(i+(3+c),n+(c+10))),cc.moveTo(.03,cc.v2(i+(0+c),n+(c+0))))))},n([s(cc.Sprite)],t.prototype,"skinSprite",void 0),n([s(cc.SpriteAtlas)],t.prototype,"skinAltas",void 0),n([s],t.prototype,"prefix",void 0),t=n([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],Constant:[function(e,t,o){"use strict";cc._RF.push(t,"b58eeNiplxHJKilD1qENH92","Constant"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.QIAN_CAI=0]="QIAN_CAI",e[e.ZHU_CAI=1]="ZHU_CAI",e[e.ZHONG_DIAN=2]="ZHONG_DIAN",e[e.TANG_PIN=3]="TANG_PIN",e[e.TIAN_PIN=4]="TIAN_PIN"}(o.FOOD_TYPE||(o.FOOD_TYPE={})),o.QIAN_CAI=[{name:"\u2ee7\u2f81\u62fc\u76d8",desc:"\u80fd\u7206\u6c41\u7684\u2ee7\u2f81",tag:[2,5]},{name:"\u82a5\u672b\u79cb\u8475",desc:"\u63d0\u795e\u9192\u8111\u7684\u79cb\u8475",tag:[1,2,3,4]},{name:"\u814a\u5473\u62fc\u76d8",desc:"\u8d44\u683c\u56db\u5ddd\u2f7c\u814a\u2f81",tag:[5]},{name:"\u631e\u58f3\u7ea2\u6ce5\u79cb\u8475",desc:"\u6536\u83b7\u751c\u871c\u7684\u79cb\u8475",tag:[1,3,4]},{name:"\u51c9\u62cc\u2f5c\u2f81",desc:"\u6d53\u2fb9\u56db\u6ea2\u7684\u2f5c\u2f81",tag:[2,3,5]},{name:"\u2f47\u5f0f\u82a5\u672b\u2ed8\u7b0b\u4e1d",desc:"\u5916\u56fd\u2edb\u60c5\u7684\u2ed8\u7b0b",tag:[1,3,4]},{name:"\u5b5c\u7136\u70e4\u2f81",desc:"\u6709\u7075\u9b42\u7684\u70e4\u2f81",tag:[2,5]},{name:"\u59dc\u6c41\u83e0\u83dc",desc:"\u5065\u5eb7\u2f24\u2f12\u83e0\u83dc",tag:[1,4]},{name:"\u5929\u5987\u7f57\u867e",desc:"\u2fa6\u2ee9\u8bf1\u2f08\u723d\u8106\u867e",tag:[3,4]},{name:"\u9178\u8fa3\u2ee9\u2f60",desc:"\u4e2d\u5f0f\u7ecf\u5178\u8fa3\u2ee9\u2f60",tag:[1,2]},{name:"\u7ea2\u6cb9\u5154\u4e01",desc:"\u8981\u5403\u2f55\u8fa3\u5154\u5154\u5417",tag:[2,5]},{name:"\u85e4\u6912\u2f8d\u8349\u82b1",desc:"\u5472\u6e9c\u5472\u6e9c\u2f8d\u8349\u82b1",tag:[1,3,4]},{name:"\u70e7\u6912\u2f7f\u2f5a",desc:"\u723d\u8106\u8fa3\u2f7f\u2f5a",tag:[2,5]},{name:"\u841d\u2f18\u4e1d\u62fc\u2f8d\u8349\u82b1",desc:"\u517b\u2f63\u8106\u841d\u2f18",tag:[1,3,4]}],o.ZHONG_DIAN=[{name:"\u7d20\u6912\u70b8\u9171\u2faf",desc:"\u8d85\u2f0a\u5473\u2f81\u6cab",tag:[5]},{name:"\u949f\u2f54\u997a",desc:"\u997a\u2f26\u8bf7\u591a\u52a0\u8fa3",tag:[2,5]},{name:"\u62c5\u62c5\u2faf",desc:"\u8e81\u52a8\u7684\u7ea2\u6cb9\u2f81\u6cab",tag:[2,5]},{name:"\u6d77\u9c9c\u62cc\u2faf",desc:"\u7c92\u7c92\u9971\u6ee1\u2f24\u867e\u4ec1",tag:[1,3]},{name:"\u602a\u5473\u2faf",desc:"\u2fb9\u8fa3\u767e\u53d8\u6d77\u5473",tag:[2]},{name:"\u2f17\u4e09\u2fb9\u6d77\u9c9c\u2faf",desc:"\u7eaf\u6b63\u6d77\u9c9c\u7684\u6ecb\u5473",tag:[3,4]}],o.ZHU_CAI=[{name:"\u5bb6\u5e38\u7ea2\u70e7\u2ee5",desc:"\u7eaf\u6b63\u4e2d\u5f0f\u6ecb\u5473\u9c7c",tag:[3,4,5]},{name:"\u85e4\u6912\u2ee5",desc:"\u820c\u5934\u4e0e\u9c7c\u7684\u534e\u5c14\u5179",tag:[2,3]},{name:"\u2f55\u9505\u5192\u83dc",desc:"\u5ddd\u5f0f\u9ebb\u8fa3\u70eb",tag:[2]},{name:"\u7ea2\u70e7\u2f81",desc:"\u80a5\u800c\u4e0d\u817b\u732a\u4e94\u82b1",tag:[5]},{name:"\u6d77\u9c9c\u2f96\u8150",desc:"\u6d77\u6709\u8c46\u8150/\u9c9c\u7f8e\u5ae9\u6ed1\u7684\u8c46\u8150",tag:[1,4]}],o.TIAN_PIN=[{name:"\u7ea2\u7cd6\u51b0\u7c89",desc:"\u7ecf\u5178\u2f1d\u5473\u51b0\u7c89",tag:[]},{name:"\u7d2b\u2f76\u7ea2\u85af\u6930\u6c41\u751c\u6c64",desc:"\u2fb9\u751c\u7d2b\u2f76\u6536\u83b7\u6ee1\u2f9c",tag:[]},{name:"\u2f4a\u2f60\u94f6\u2f7f\u7fb9",desc:"\u2f00\u7897\u5c31\u9971\u8d85\u6ee1\u2f9c\u2f4a\u2f60",tag:[]},{name:"\u91aa\u7cdf\u6c64\u5706",desc:"\u8f6f\u7cefQ\u5f39\u2f29\u6c64\u5706",tag:[]}],o.TANG_PIN=[{name:"\u8c4c\u2f96\u5c16\u9e21\u6c64",desc:"\u2f3c\u5c16\u5c16\u4e0a\u7684\u8c4c\u2f96\u5c16",tag:[1]},{name:"\u2f75\u836a\u9e21\u6c64",desc:"\u5438\u6ee1\u6c64\u6c41\u7684\u2f75\u836a",tag:[2,3,4]},{name:"\u9e21\u2f81\u83cc\u83c7\u6c64",desc:"\u2f00\u672c\u6ee1\u2f9c\u7684\u9e21\u2f81",tag:[2,5]},{name:"\u80e1\u841d\u2f18\u2f5f\u2f76\u6392\u2ee3\u6c64",desc:"\u6e05\u751c\u4f5b\u7cfb\u80e1\u841d\u2f18",tag:[1,4]},{name:"\u2f4a\u2f60\u6392\u2ee3",desc:"\u2fb9\u2f53\u56db\u6ea2\u2f24\u6392\u2ee3",tag:[3,5]}],o.RESULT=[{desc:"\u8c01\u8bf4\u98df\u7269\u4e00\u5b9a\u8981\u9760\u8c03\u5473\u6599\uff1f\u7528\u5fc3\u54c1\u5c1d\uff0c\u7ec6\u7ec6\u56de\u5473\uff0c\u539f\u6765\u98df\u7269\u539f\u672c\u7684\u5473\u9053\u5c31\u8db3\u591f\u523a\u6fc0\u5473\u857e"},{desc:"\u51e1\u662f\u98df\u7269\u90fd\u8ffd\u6c42\u4e00\u4e2a\u201c\u91cd\u201d\u5b57\uff0c\u91cd\u6cb9\u3001\u91cd\u8fa3\u3001\u91cd\u76d0\uff0c\u6068\u4e0d\u5f97\u968f\u8eab\u643a\u5e26\u8c03\u5473\u6599"},{desc:"\u98df\u7269\u5c31\u662f\u6211\u8bfe\u9898\u3002\u5927\u6392\u957f\u9f99\u7684\u7f51\u7ea2\u5e97\u4e0d\u662f\u6211\u7684\u76ee\u6807\uff0c\u54c1\u8d28\u548c\u65b0\u9c9c\u611f\u624d\u80fd\u5e26\u6765\u7075\u611f"},{desc:"\u7cbe\u786e\u8ba1\u7b97\u6444\u53d6\u7684\u8425\u517b\u914d\u6bd4\uff0c\u7ef4\u751f\u7d20\u3001\u86cb\u767d\u8d28\u3001\u78b3\u6c34\u5316\u5408\u7269\uff0c\u9996\u5148\u8981\u6ee1\u8db3\u7684\u4e0d\u662f\u5473\u89c9\uff0c\u662f\u5065\u5eb7"},{desc:"\u5982\u679c\u4e00\u9053\u83dc\u91cc\u6709\u83dc\u6709\u8089\uff0c\u4e00\u5b9a\u8981\u5148\u5403\u8089\uff01\u81ea\u5df1\u7684\u8089\u5403\u5b8c\u4e86\u518d\u5403\u522b\u4eba\u7684"},{desc:"\u6709\u4eba\u8bf4\u770b\u6211\u5403\u996d\u5f88\u4e0b\u996d\uff0c\u4e0d\u77e5\u660e\u767dTA\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u8ba4\u4e3a\uff0c\u6211\u575a\u4fe1\u8fd9\u4e2a\u4e16\u754c\u4e0a\u6ca1\u6709\u96be\u5403\u7684\u98df\u7269"}],cc._RF.pop()},{}],CookScene:[function(e,t,o){"use strict";cc._RF.push(t,"4b813Zl+O9GI5qvmnhztjcr","CookScene");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./BaseFood"),r=cc._decorator,s=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressBar=null,t.speed=.22,t.cookBtn=null,t.handNode=null,t.btnNode=null,t.containerNode=null,t.btnContainer=null,t.qiancai=null,t.qiancai1=null,t.zhucai=null,t.zhongdian=null,t.tangpin=null,t.tianpin=null,t.isBegin=!1,t.foodShowed=!1,t.cookSound=null,t}return i(t,e),t.prototype.nextStep=function(){cc.director.loadScene("Result")},t.prototype.onLoad=function(){var e=cc.sys.localStorage.getItem("selectedFood"),t=JSON.parse(e);this.qiancai.type=t[0],this.qiancai1.type=t[1],this.zhucai.type=t[2],this.zhongdian.type=t[3],this.tangpin.type=t[4],this.tianpin.type=t[5],this.cookBtn.node.on("touchstart",this.onTouchStart,this),cc.director.preloadScene("Result"),this.btnAnimation2=this.btnNode.getComponent(cc.Animation),this.btnAnimation2.play("btn2"),this.containerAmnimation=this.containerNode.getComponent(cc.Animation)},t.prototype.onTouchStart=function(){this.isBegin=!0,this.handNode.active=!1,this.btnAnimation2.pause("btn2"),cc.director.emit("cookAnimation"),this.containerAmnimation.play(),cc.audioEngine.playEffect(this.cookSound,!1),this.btnContainer.active=!1},t.prototype.onTouchEnd=function(){this.isBegin=!1,this.handNode.active=!0,this.btnAnimation2.resume("btn2"),this.containerAmnimation.stop()},t.prototype._updateProgressBar=function(e){var t=this.progressBar.progress;(t+=this.speed*e)>.1&&!this.foodShowed&&(this.foodShowed=!0,cc.director.emit("cookShow")),t<1?this.progressBar.progress=t:(this.isBegin=!1,t=1,this.nextStep())},t.prototype.update=function(e){this.isBegin&&this._updateProgressBar(e)},n([a(cc.ProgressBar)],t.prototype,"progressBar",void 0),n([a(cc.Sprite)],t.prototype,"cookBtn",void 0),n([a(cc.Node)],t.prototype,"handNode",void 0),n([a(cc.Node)],t.prototype,"btnNode",void 0),n([a(cc.Node)],t.prototype,"containerNode",void 0),n([a(cc.Node)],t.prototype,"btnContainer",void 0),n([a(c.default)],t.prototype,"qiancai",void 0),n([a(c.default)],t.prototype,"qiancai1",void 0),n([a(c.default)],t.prototype,"zhucai",void 0),n([a(c.default)],t.prototype,"zhongdian",void 0),n([a(c.default)],t.prototype,"tangpin",void 0),n([a(c.default)],t.prototype,"tianpin",void 0),n([a({type:cc.AudioClip})],t.prototype,"cookSound",void 0),t=n([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./BaseFood":"BaseFood"}],CookedFood:[function(e,t,o){"use strict";cc._RF.push(t,"5c92bh0UEhA4qH5Sdfyu0uj","CookedFood");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skins=[],t.tileSprite=null,t}return i(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e},enumerable:!0,configurable:!0}),n([s([cc.SpriteFrame])],t.prototype,"skins",void 0),n([s(cc.Sprite)],t.prototype,"tileSprite",void 0),t=n([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],MainScene:[function(e,t,o){"use strict";cc._RF.push(t,"0737btQyfpB1J9PLbrwiQ7N","MainScene");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.topNode=null,t.homepage_deepNode=null,t.homepage_topNode=null,t.fishNode=null,t.lgmRNode=null,t.lgmLNode=null,t.startNode=null,t.gbNode=null,t.timeSlice=[.5,.5,.3,.2,.5,.5],t}return i(t,e),t.prototype.onStart=function(){cocosAnalytics.CACustomEvent.onStarted("btn_click",{name:"start"}),cocosAnalytics.CACustomEvent.onSuccess("btn_click",{name:"start"}),cc.director.loadScene("Menu")},t.prototype.onLoad=function(){cocosAnalytics.enableDebug(!0),this.node.emit("touchstart"),cc.director.preloadScene("Menu"),this.offsetY=(cc.visibleRect.height-1334)/2,this.playAnimation()},t.prototype.start=function(){},t.prototype.playAnimation=function(){var e=this;console.log(cc.visibleRect);var t=cc.v2(this.homepage_deepNode.x,this.homepage_deepNode.y-this.offsetY),o=cc.v2(this.fishNode.x,this.fishNode.y-this.offsetY),i=cc.v2(this.lgmLNode.x,this.lgmLNode.y-this.offsetY),n=cc.v2(this.lgmRNode.x,this.lgmRNode.y-this.offsetY),c=cc.v2(this.homepage_topNode.x,this.homepage_topNode.y+this.offsetY);this.fishNode.runAction(cc.sequence(cc.fadeTo(0,0),cc.delayTime(this.timeSlice[0]),cc.delayTime(this.timeSlice[1]),cc.delayTime(this.timeSlice[2]),cc.delayTime(this.timeSlice[3]),cc.fadeIn(this.timeSlice[4]),cc.callFunc(function(){e.fishNode.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,o.x-10,o.y+10),cc.moveTo(1,o))))}))),this.lgmLNode.runAction(cc.sequence(cc.fadeTo(0,0),cc.delayTime(this.timeSlice[0]),cc.delayTime(this.timeSlice[1]),cc.delayTime(this.timeSlice[2]),cc.delayTime(this.timeSlice[3]),cc.fadeIn(this.timeSlice[4]),cc.callFunc(function(){e.lgmLNode.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,i.x-10,i.y+10),cc.moveTo(1,i))))}))),this.lgmRNode.runAction(cc.sequence(cc.fadeTo(0,0),cc.delayTime(this.timeSlice[0]),cc.delayTime(this.timeSlice[1]),cc.delayTime(this.timeSlice[2]),cc.delayTime(this.timeSlice[3]),cc.fadeIn(this.timeSlice[4]),cc.callFunc(function(){e.lgmRNode.runAction(cc.repeatForever(cc.sequence(cc.moveTo(1,n.x+10,n.y+10),cc.moveTo(1,n))))}))),this.startNode.runAction(cc.sequence(cc.fadeTo(0,0),cc.delayTime(this.timeSlice[0]),cc.delayTime(this.timeSlice[1]),cc.delayTime(this.timeSlice[2]),cc.delayTime(this.timeSlice[3]),cc.fadeIn(this.timeSlice[4]),cc.callFunc(function(){e.startNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1,1.2),cc.scaleTo(1,1))))}))),this.gbNode.runAction(cc.sequence(cc.fadeTo(0,0),cc.delayTime(this.timeSlice[0]),cc.delayTime(this.timeSlice[1]),cc.delayTime(this.timeSlice[2]),cc.delayTime(this.timeSlice[3]),cc.fadeIn(this.timeSlice[4]),cc.callFunc(function(){e.gbNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(1,1.2),cc.scaleTo(1,1))))}))),this.homepage_deepNode.runAction(cc.sequence(cc.moveTo(0,0,-1055),cc.moveTo(this.timeSlice[0],t),cc.callFunc(function(){}))),this.topNode.runAction(cc.sequence(cc.scaleTo(0,0),cc.delayTime(this.timeSlice[0]),cc.scaleTo(this.timeSlice[1],1.3),cc.scaleTo(this.timeSlice[2],1),cc.scaleTo(this.timeSlice[3],1.1),cc.scaleTo(this.timeSlice[4],1))),this.homepage_topNode.runAction(cc.sequence(cc.moveTo(0,0,1e3),cc.moveTo(this.timeSlice[0],c)))},n([s(cc.Node)],t.prototype,"topNode",void 0),n([s(cc.Node)],t.prototype,"homepage_deepNode",void 0),n([s(cc.Node)],t.prototype,"homepage_topNode",void 0),n([s(cc.Node)],t.prototype,"fishNode",void 0),n([s(cc.Node)],t.prototype,"lgmRNode",void 0),n([s(cc.Node)],t.prototype,"lgmLNode",void 0),n([s(cc.Node)],t.prototype,"startNode",void 0),n([s(cc.Node)],t.prototype,"gbNode",void 0),t=n([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],MenuScene:[function(e,t,o){"use strict";cc._RF.push(t,"f8f8bso+/xMyYT+tWgzYNg2","MenuScene");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./SelectedFood"),r=e("./Constant"),s=e("./TypeFood"),a=cc._decorator,l=a.ccclass,d=a.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.foodLayout=null,t.upBtn=null,t.next1Btn=null,t.next2Btn=null,t.qianCaiFoodPB=null,t.zhuCaiFoodPB=null,t.zhongDianFoodPB=null,t.tangPinFoodPB=null,t.tianPinFoodPB=null,t.qiancaiSelectedFood=null,t.qiancai1SelectedFood=null,t.zhongdianSelectedFood=null,t.zhucaiSelectedFood=null,t.tangpinSelectedFood=null,t.tianpinSelectedFood=null,t.kjNode=null,t.selectedFoodDesc=null,t.typeDesc=null,t.currentTab="qiancai",t.qiancaiList=[],t.zhongdianList=[],t.zhucaiList=[],t.tangpinList=[],t.tianpinList=[],t.qiancaiSelected=[],t.currentNextBtn=null,t.typeList=["qiancai","zhucai","zhongdian","tangpin","tianpin"],t.typeDescList=["<color=#FAEC21>\u524d\u83dc</c>\u53c8\u79f0\u51b7\u83dc\uff0c\u5f00\u80c3\u53c8\u6d88\u98df\u3002\u4e0b\u9762\u7684\u7cbe\u7f8e\u98df\u6750\u53ef\u4ee5<color=#FAEC21>\u9009\u4e24\u9053</c>\u6765\u4f5c\u4e3a\u4f60\u7684\u524d\u83dc\u54df\u3002","\u73b0\u5728\u5f00\u59cb\u9009\u4e3b\u83dc\u5566\u3002<color=#FAEC21>\u4e3b\u83dc</c>\u53ef\u662f\u4e00\u684c\u7f8e\u98df\u7684\u7cbe\u534e\u6240\u5728\uff0c\u4e0b\u9762\u7684\u98df\u6750\u7ec4\u5408\u54ea\u4e00\u6b3e\u6700\u80fd\u6253\u52a8\u4f60\u5462\uff1f<color=#FAEC21>\u53ea\u80fd\u9009\u4e00\u6b3e\u54e6</c>","\u56db\u5ddd\u7684<color=#FAEC21>\u4e2d\u70b9</c>\u53ef\u662f\u95fb\u540d\u5168\u7403\u7684\uff0c\u9178\u8fa3\u9c9c\u9999\u5e94\u6709\u5c3d\u6709\u3002\u5728\u4e0b\u9762\u7684\u98df\u6750\u4e2d<color=#FAEC21>\u9009\u4e00\u6b3e</c>\u5427\uff0c\u4e0d\u80fd\u8d2a\u5fc3\u54e6\u3002","\u5ddd\u83dc\u5927\u591a\u504f\u8fa3\uff0c\u9910\u540e\u559d\u6c64\u53ef\u4ee5\u8c03\u8282\u80a0\u80c3\u8212\u9002\u5ea6\u3002\u4e0b\u9762\u7684<color=#FAEC21>\u6c64\u54c1</c>\u91cc\u9762<color=#FAEC21>\u9009\u4e00\u6837</c>\u4f60\u559c\u6b22\u7684\u5427\uff0c\u4e00\u5b9a\u4e0d\u4f1a\u8ba9\u4f60\u5931\u671b\u7684\u3002","\u9910\u540e\u7684\u6765\u4e00\u4efd<color=#FAEC21>\u751c\u54c1\uff0c</c>\u63a5\u4e0b\u768412\u4e2a\u5c0f\u65f6\u7684\u5e78\u798f\u611f\u90fd\u9760\u5b83\u5566\u3002<color=#FAEC21>\u54ea\u4e00\u6b3e</c>\u98df\u6750\u662f\u4f60\u5fc3\u91cc\u7684\u6700\u4f73\u751c\u871c\u5929\u4f7f\u5462\u3002"],t.selectedFoodDescList=["\u8bf7\u9009\u62e9<color=#FAEC21><size=40> 2 </size></color>\u6b3e\u524d\u83dc","\u8bf7\u9009\u62e9<color=#FAEC21><size=40> 1 </size></color>\u6b3e\u4e3b\u83dc","\u8bf7\u9009\u62e9<color=#FAEC21><size=40> 1 </size></color>\u6b3e\u4e2d\u70b9","\u8bf7\u9009\u62e9<color=#FAEC21><size=40> 1 </size></color>\u6b3e\u6c64\u54c1","\u8bf7\u9009\u62e9<color=#FAEC21><size=40> 1 </size></color>\u6b3e\u751c\u54c1"],t.info="\u6b22\u8fce\u5149\u4e34\u5ddd\u822a\u7f8e\u98df\u7814\u7a76\u6240\uff0c\u6211\u662f\u7a7a\u59d0\u60a0\u60a0\u3002\u767b\u4e0a\u5ddd\u822a\u98de\u673a\u600e\u80fd\u4e0d\u5927\u5403\u4e00\u987f\u5462\uff0c\u4eca\u5929\u7684\u65c5\u7a0b\u4fdd\u8bc1\u8ba9\u4f60\u5927\u5feb\u6735\u9890\u3002",t.infoShowed=!1,t}return i(t,e),t.prototype.onLoad=function(){var e=this;if(this.kjAnimation=this.kjNode.getComponent(cc.Animation),this.kjAnimation.play(),this.qiancaiList.length)for(t=0;t<this.qiancaiList.length;++t)this.foodLayout.node.addChild(this.qiancaiList[t].node);else for(var t=0;t<r.QIAN_CAI.length;++t){var o=cc.instantiate(this.qianCaiFoodPB).getComponent(s.default);o.init(""+r.QIAN_CAI[t].name,""+r.QIAN_CAI[t].desc,t),this.foodLayout.node.addChild(o.node),this.qiancaiList.push(o)}cc.director.preloadScene("Cook"),this.currentTab="qiancai",this.showTextOneByOne(this.info),this.next1Btn.node.active=!0,this.currentNextBtn=this.next1Btn,this.currentNextBtn.interactable=!1,cc.director.on("selectFood",function(t,o){switch(t){case r.FOOD_TYPE.QIAN_CAI:e.qiancaiSelectedHandler(t,o);break;case r.FOOD_TYPE.ZHONG_DIAN:e.zhongdianSelectedHandler(t,o);break;case r.FOOD_TYPE.ZHU_CAI:e.zhucaiSelectedHandler(t,o);break;case r.FOOD_TYPE.TANG_PIN:e.tangpinSelectedHandler(t,o);break;case r.FOOD_TYPE.TIAN_PIN:e.tianpinSelectedHandler(t,o)}},this)},t.prototype.changeTypeDesc=function(){var e=this.typeList.indexOf(this.currentTab);cc.director.emit("selectedType",e),this.selectedFoodDesc.string=this.selectedFoodDescList[e],this.showTextOneByOne(this.typeDescList[e])},t.prototype.qiancaiSelectedHandler=function(e,t){-1===this.qiancaiSelected.indexOf(t)&&(2===this.qiancaiSelected.length?(this.qiancaiSelected.shift(),this.qiancaiSelected.push(t)):this.qiancaiSelected.push(t));for(var o=0;o<this.qiancaiList.length;++o){var i=this.qiancaiList[o],n=this.qiancaiSelected.indexOf(o);-1!==this.qiancaiSelected.indexOf(o)?(i.selected=!0,0===n&&(this.qiancaiSelectedFood.skin=this.qiancaiSelected[0]),1===n&&(this.qiancai1SelectedFood.skin=this.qiancaiSelected[1])):i.selected=!1}this.qiancai1SelectedFood.selected&&this.qiancaiSelectedFood.selected?this.currentNextBtn.interactable=!0:this.currentNextBtn.interactable=!1},t.prototype.zhongdianSelectedHandler=function(e,t){for(var o=0;o<this.zhongdianList.length;++o){var i=this.zhongdianList[o];o===t?(i.selected=!0,this.zhongdianSelectedFood.skin=t):i.selected=!1}this.zhongdianSelectedFood.selected?this.currentNextBtn.interactable=!0:this.currentNextBtn.interactable=!1},t.prototype.zhucaiSelectedHandler=function(e,t){for(var o=0;o<this.zhucaiList.length;++o){var i=this.zhucaiList[o];o===t?(i.selected=!0,this.zhucaiSelectedFood.skin=t):i.selected=!1}this.zhucaiSelectedFood.selected?this.currentNextBtn.interactable=!0:this.currentNextBtn.interactable=!1},t.prototype.tangpinSelectedHandler=function(e,t){for(var o=0;o<this.tangpinList.length;++o){var i=this.tangpinList[o];o===t?(i.selected=!0,this.tangpinSelectedFood.skin=t):i.selected=!1}this.tangpinSelectedFood.selected?this.currentNextBtn.interactable=!0:this.currentNextBtn.interactable=!1},t.prototype.tianpinSelectedHandler=function(e,t){for(var o=0;o<this.tianpinList.length;++o){var i=this.tianpinList[o];o===t?(i.selected=!0,this.tianpinSelectedFood.skin=t):i.selected=!1}this.tianpinSelectedFood.selected?this.currentNextBtn.interactable=!0:this.currentNextBtn.interactable=!1},t.prototype.showTextOneByOne=function(e){var t=this;this.unscheduleAllCallbacks(),this.typeDesc.string="";for(var o=/<.+?\/?>/g,i=e.match(o),n=e.replace(o,"\u2502").split("\u2502"),c=[],r=0,s=0,a=n;s<a.length;s++){""!==(g=a[s])&&(g="$["+r+"]",r+=1),c.push(g)}for(var l=c.join("\u2502"),d=0;d<n.length;d++)""===n[d]&&(n.splice(d,1),d-=1);for(;-1!==l.search("\u2502");)i[0]?(l=l.replace("\u2502",i[0].toString()),i.splice(0,1)):(l=l.replace("\u2502",""),console.warn("matchArr not enough"));for(var p=[],h=new Array(r).fill(""),u=0;u<n.length;u++)for(var f=0,y=n[u];f<y.length;f++){var g=y[f];h[u]=h[u]+g;var v=l;for(d=0;d<r;d++)v=v.replace("$["+d+"]",h[d]);p.push(v)}var m=0,_=function(){if(m>=p.length)return t.infoShowed||"qiancai"!==t.currentTab||(t.infoShowed=!0,t.changeTypeDesc()),void t.unschedule(_);t.typeDesc.string=p[m],m+=1};this.schedule(_,.05,cc.macro.REPEAT_FOREVER,.5)},t.prototype.onChageMenu=function(e){switch(this.foodLayout.node.removeAllChildren(),this.currentTab=e,this.currentTab){case"qiancai":if(this.next1Btn.node.active=!0,this.next2Btn.node.active=!1,this.upBtn.node.active=!1,this.currentNextBtn=this.next1Btn,this.qiancai1SelectedFood.selected&&this.qiancaiSelectedFood.selected?this.currentNextBtn.interactable=!0:this.currentNextBtn.interactable=!1,this.qiancaiList.length)for(t=0;t<this.qiancaiList.length;++t)this.foodLayout.node.addChild(this.qiancaiList[t].node);else for(var t=0;t<r.QIAN_CAI.length;++t){(o=cc.instantiate(this.qianCaiFoodPB).getComponent(s.default)).init(""+r.QIAN_CAI[t].name,""+r.QIAN_CAI[t].desc,t),this.foodLayout.node.addChild(o.node),this.qiancaiList.push(o)}break;case"zhongdian":if(this.next1Btn.node.active=!1,this.next2Btn.node.active=!0,this.upBtn.node.active=!0,this.currentNextBtn=this.next2Btn,this.zhongdianSelectedFood.selected?this.currentNextBtn.interactable=!0:this.currentNextBtn.interactable=!1,this.zhongdianList.length)for(t=0;t<this.zhongdianList.length;++t)this.foodLayout.node.addChild(this.zhongdianList[t].node);else for(var t=0;t<r.ZHONG_DIAN.length;++t){(o=cc.instantiate(this.zhongDianFoodPB).getComponent(s.default)).init(""+r.ZHONG_DIAN[t].name,""+r.ZHONG_DIAN[t].desc,t),this.foodLayout.node.addChild(o.node),this.zhongdianList.push(o)}break;case"zhucai":if(this.next1Btn.node.active=!1,this.next2Btn.node.active=!0,this.upBtn.node.active=!0,this.currentNextBtn=this.next2Btn,this.zhucaiSelectedFood.selected?this.currentNextBtn.interactable=!0:this.currentNextBtn.interactable=!1,this.zhucaiList.length)for(t=0;t<this.zhucaiList.length;++t)this.foodLayout.node.addChild(this.zhucaiList[t].node);else for(t=0;t<r.ZHU_CAI.length;++t){(o=cc.instantiate(this.zhuCaiFoodPB).getComponent(s.default)).init(""+r.ZHU_CAI[t].name,""+r.ZHU_CAI[t].desc,t),this.foodLayout.node.addChild(o.node),this.zhucaiList.push(o)}break;case"tangpin":if(this.next1Btn.node.active=!1,this.next2Btn.node.active=!0,this.upBtn.node.active=!0,this.currentNextBtn=this.next2Btn,this.tangpinSelectedFood.selected?this.currentNextBtn.interactable=!0:this.currentNextBtn.interactable=!1,this.tangpinList.length)for(t=0;t<this.tangpinList.length;++t)this.foodLayout.node.addChild(this.tangpinList[t].node);else for(t=0;t<r.TANG_PIN.length;++t){(o=cc.instantiate(this.tangPinFoodPB).getComponent(s.default)).init(""+r.TANG_PIN[t].name,""+r.TANG_PIN[t].desc,t),this.foodLayout.node.addChild(o.node),this.tangpinList.push(o)}break;case"tianpin":if(this.next1Btn.node.active=!1,this.next2Btn.node.active=!0,this.upBtn.node.active=!0,this.currentNextBtn=this.next2Btn,this.tianpinSelectedFood.selected?this.currentNextBtn.interactable=!0:this.currentNextBtn.interactable=!1,this.tianpinList.length)for(t=0;t<this.tianpinList.length;++t)this.foodLayout.node.addChild(this.tianpinList[t].node);else for(t=0;t<r.TIAN_PIN.length;++t){var o;(o=cc.instantiate(this.tianPinFoodPB).getComponent(s.default)).init(""+r.TIAN_PIN[t].name,""+r.TIAN_PIN[t].desc,t),this.foodLayout.node.addChild(o.node),this.tianpinList.push(o)}}},t.prototype.updateMenu=function(){},t.prototype.onNextStep=function(){this.calcFood()&&cc.director.loadScene("Cook")},t.prototype.onNextBtnHandler=function(){if(this.calcFood())return this.calTag(),void cc.director.loadScene("Cook");var e=this.typeList.indexOf(this.currentTab);this.currentTab=this.typeList[e+1],this.onChageMenu(this.currentTab),this.changeTypeDesc()},t.prototype.onUpBtnHandler=function(){var e=this.typeList.indexOf(this.currentTab);this.currentTab=this.typeList[e-1],this.onChageMenu(this.currentTab),this.changeTypeDesc()},t.prototype.calTag=function(){var e=[],t=[];t.push(this.qiancaiSelectedFood.skin),t.push(this.qiancai1SelectedFood.skin),t.push(this.zhucaiSelectedFood.skin),t.push(this.zhongdianSelectedFood.skin),t.push(this.tangpinSelectedFood.skin),t.push(this.tianpinSelectedFood.skin),e=(e=(e=(e=(e=(e=e.concat(r.QIAN_CAI[this.qiancaiSelectedFood.skin].tag)).concat(r.QIAN_CAI[this.qiancai1SelectedFood.skin].tag)).concat(r.ZHONG_DIAN[this.zhongdianSelectedFood.skin].tag)).concat(r.ZHU_CAI[this.zhucaiSelectedFood.skin].tag)).concat(r.TANG_PIN[this.tangpinSelectedFood.skin].tag)).concat(r.TIAN_PIN[this.tianpinSelectedFood.skin].tag),console.log({tags:e}),e.sort();var o=this.f(e),i=o.max,n=o.maxV,c=o.second,s=o.secondV,a=o.third,l=o.thirdV;console.log({max:i,maxV:n,second:c,secondV:s,third:a,thirdV:l});var d=6;if(i===c&&i===a)d=6;else if(i===c){var p=[n,s];-1!==p.indexOf(1)?d=1:-1!==p.indexOf(4)?d=4:-1!==p.indexOf(3)?d=3:-1!==p.indexOf(5)?d=5:-1!==p.indexOf(2)&&(d=2)}else d=n;cc.sys.localStorage.setItem("result",d),cc.sys.localStorage.setItem("selectedFood",JSON.stringify(t))},t.prototype.f=function(e){console.log(e);var t,o=[];for(e.sort(),o[0]={value:e[0],index:1},t=1;t<e.length;t++)e[t]==e[t-1]?o[o.length-1].index++:o.push({index:1,value:e[t]});return o.sort(function(e,t){return t.index-e.index}),{max:o[0].index,maxV:o[0].value,second:o[1].index,secondV:o[1].value,third:o[2].index,thirdV:o[2].value}},t.prototype.calcFood=function(){var e=0;return this.qiancaiSelectedFood.selected||(e+=1),this.qiancai1SelectedFood.selected||(e+=1),0!==e&&1,this.zhongdianSelectedFood.selected||(e+=1,1),this.zhucaiSelectedFood.selected||(e+=1,1),this.tangpinSelectedFood.selected||(e+=1,1),this.tianpinSelectedFood.selected||(e+=1,1),0===e},n([d(cc.Layout)],t.prototype,"foodLayout",void 0),n([d(cc.Button)],t.prototype,"upBtn",void 0),n([d(cc.Button)],t.prototype,"next1Btn",void 0),n([d(cc.Button)],t.prototype,"next2Btn",void 0),n([d(cc.Prefab)],t.prototype,"qianCaiFoodPB",void 0),n([d(cc.Prefab)],t.prototype,"zhuCaiFoodPB",void 0),n([d(cc.Prefab)],t.prototype,"zhongDianFoodPB",void 0),n([d(cc.Prefab)],t.prototype,"tangPinFoodPB",void 0),n([d(cc.Prefab)],t.prototype,"tianPinFoodPB",void 0),n([d(c.default)],t.prototype,"qiancaiSelectedFood",void 0),n([d(c.default)],t.prototype,"qiancai1SelectedFood",void 0),n([d(c.default)],t.prototype,"zhongdianSelectedFood",void 0),n([d(c.default)],t.prototype,"zhucaiSelectedFood",void 0),n([d(c.default)],t.prototype,"tangpinSelectedFood",void 0),n([d(c.default)],t.prototype,"tianpinSelectedFood",void 0),n([d(cc.Node)],t.prototype,"kjNode",void 0),n([d(cc.RichText)],t.prototype,"selectedFoodDesc",void 0),n([d(cc.RichText)],t.prototype,"typeDesc",void 0),t=n([l],t)}(cc.Component);o.default=p,cc._RF.pop()},{"./Constant":"Constant","./SelectedFood":"SelectedFood","./TypeFood":"TypeFood"}],ResultFood:[function(e,t,o){"use strict";cc._RF.push(t,"e6472CypBFBMI1hSAOEzaEj","ResultFood");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skins=[],t.skinSprite=null,t._skin=0,t}return i(t,e),Object.defineProperty(t.prototype,"skin",{set:function(e){this.skinSprite.spriteFrame=this.skins[e]},enumerable:!0,configurable:!0}),n([s([cc.SpriteFrame])],t.prototype,"skins",void 0),n([s(cc.Sprite)],t.prototype,"skinSprite",void 0),t=n([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],ResultScene:[function(e,t,o){"use strict";cc._RF.push(t,"0ebcd4uto1IvoemAdZoY+yc","ResultScene");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./Constant"),r=e("./ResultFood"),s=cc._decorator,a=s.ccclass,l=s.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.descLabel=null,t.tangPinResultFood=null,t.zhuCaiResultFood=null,t.tianPinResultFood=null,t.zhongDianResultFood=null,t.qianCaiResultFood=null,t.qianCai1ResultFood=null,t.titleSprite=null,t.titleSkins=[],t.qrcodeNode=null,t.camera1=null,t.camera2=null,t.screenShotSprite=null,t.shareTipNode=null,t.holdTimeEclipse=0,t.holdClick=!1,t.doubleTimeEclipse=0,t.hold_one_click=0,t.img=[],t.test1=null,t.test2=null,t.firstOne=!0,t}return i(t,e),t.prototype.onRestart=function(){for(var e=0;e<this.img.length;++e)this.img[e].style.display="none";cc.director.loadScene("Main")},t.prototype.btn_status=function(e){var t=this;"short"==e?(console.log(this.hold_one_click),this.hold_one_click++,setTimeout(function(){1==t.hold_one_click?(console.log("short"),t.hold_one_click=0):2==t.hold_one_click&&(console.log("double"),t.hold_one_click=0)},400)):(this.hold_one_click=0,console.log(e))},t.prototype.update=function(e){this.holdClick&&(this.holdTimeEclipse++,this.holdTimeEclipse>120&&(this.holdTimeEclipse=120))},t.prototype.test=function(e){console.log("============");var t=this.img[2],o=this.img[1];console.log(e.getMaxScrollOffset().y,e.getScrollOffset().y),t&&(t.style.bottom=e.getScrollOffset().y*this.ratio+this.top+"px"),e.getMaxScrollOffset().y-e.getScrollOffset().y<200?o.style.display="block":o.style.display="none"},t.prototype.gotoPage=function(){window.location.href="https://mp.weixin.qq.com/s/u5CytVcpfT2urw05WDSqTQ"},t.prototype.onLoad=function(){var e=this;this.ratio=cc.view.getFrameSize().height/cc.visibleRect.height;var t=cc.view.getFrameSize().height/1334;console.log(cc.view.getFrameSize().height,cc.visibleRect.height),console.log({a:t}),console.log(cc.visibleRect),console.log("ratio",this.ratio);var o=this.qrcodeNode.convertToWorldSpaceAR(this.qrcodeNode.position);console.log("qrcY",o.y),console.log(this.qrcodeNode.getContentSize());var i=this.qrcodeNode.height/2;this.top=o.y*this.ratio-i/(1.5*t),console.log("h",this.qrcodeNode.height/2),console.log("top",this.top);var n=cc.sys.localStorage.getItem("result"),r=cc.sys.localStorage.getItem("selectedFood"),s=JSON.parse(r);this.descLabel.string=c.RESULT[Number(n)-1].desc,this.titleSprite.spriteFrame=this.titleSkins[Number(n)-1],this.qianCaiResultFood.skin=s[0],this.qianCai1ResultFood.skin=s[1],this.zhuCaiResultFood.skin=s[2],this.orgPos=this.qrcodeNode.convertToNodeSpaceAR(this.qrcodeNode.position),this.zhongDianResultFood.skin=s[3],this.tangPinResultFood.skin=s[4],this.tianPinResultFood.skin=s[5],this.shareTipNode.on("touchstart",function(){e.shareTipNode.active=!1},this),console.log("load"),this.qrcodeNode.on("touchstart",function(e){this.holdClick=!0,this.holdTimeEclipse=0},this),this.qrcodeNode.on("touchend",function(e){this.holdClick=!1,this.holdTimeEclipse>=30?this.btn_status("long"):this.btn_status("short"),this.holdTimeEclipse=0},this)},t.prototype.start=function(){console.log("ho"),this.initCamera1(),this.createImg()},t.prototype.gotoShare=function(){this.shareTipNode.active=!0},t.prototype.capture=function(){console.log("fuck");var e=cc.find("Canvas/Camera").getComponent(cc.Camera),t=cc.find("Canvas/fuckme");console.log(t.width);var o=new cc.RenderTexture;o.initWithSize(t.width,t.height),e.targetTexture=o,this.texture=o;var i=document.getElementById("GameCanvas");console.log(i.width);var n=this.texture.width,c=this.texture.height,r=document.createElement("canvas"),s=r.getContext("2d");r.width=n,r.height=c,e.render();for(var a=this.texture.readPixels(),l=4*n,d=0;d<c;d++){for(var p=c-1-d,h=s.createImageData(n,1),u=p*n*4,f=0;f<l;f++)h.data[f]=a[u+f];s.putImageData(h,0,d)}var y=r.toDataURL("image/jpeg"),g=document.createElement("img");return g.src=y,g},t.prototype.captureAndShow=function(){var e=this.capture(),t=new cc.Texture2D;t.initWithElement(e);var o=new cc.SpriteFrame;o.setTexture(t),o.setRect(new cc.Rect(0,0,750,1134)),console.log(e),this.screenShotSprite.spriteFrame=o,this.pleasefuckMe()},t.prototype.fuck=function(){},t.prototype.pleasefuckMe=function(){var e=this.camera2,t=cc.find("Canvas/fuckme"),o=new cc.RenderTexture;o.initWithSize(t.width,t.height),e.targetTexture=o,this.texture=o;var i=document.getElementById("GameCanvas");console.log(i.width);var n=this.texture.width,c=this.texture.height,r=document.createElement("canvas"),s=r.getContext("2d");r.width=n,r.height=c,e.render();for(var a=this.texture.readPixels(),l=4*n,d=0;d<c;d++){for(var p=c-1-d,h=s.createImageData(n,1),u=p*n*4,f=0;f<l;f++)h.data[f]=a[u+f];s.putImageData(h,0,d)}var y=r.toDataURL("image/jpeg"),g=document.createElement("img");return g.src=y,g.width=300,g.height=200,g.style.position="absolute",g.style.top="0",g.style.opacity="0.4",g.style.position="absolute",g.style.display="block",g.style.left="0px",g.style.top="0px",g.zIndex=100,console.log(cc.game.container),g.style.transform=cc.game.container.style.transform,g.style["transform-origin"]=cc.game.container.style["transform-origin"],g.style.margin=cc.game.container.style.margin,g.style.padding=cc.game.container.style.padding,cc.game.container.appendChild(g),g},t.prototype.createCanvas=function(){},t.prototype.initCamera1=function(){var e=cc.find("Canvas/fuckme"),t=new cc.RenderTexture;t.initWithSize(e.width,e.height),console.log(cc.visibleRect.width,cc.visibleRect.height),console.log(e.width,e.height),this.camera1.targetTexture=t,this.texture1=t,console.log(t.height,this.texture1.height)},t.prototype.initCamera2=function(){cc.find("Canvas/fuckme");var e=new cc.RenderTexture;e.initWithSize(600,1067.2),console.log(cc.visibleRect.width,cc.visibleRect.height,100),this.camera2.targetTexture=e,this.texture2=e},t.prototype.createImg=function(){var e=this,t=document.createElement("canvas"),o=t.getContext("2d"),i=this.texture1.width,n=this.texture1.height;t.width=i,t.height=n,console.log(i,n),this.camera1.render();for(var c=this.texture1.readPixels(),r=4*i,s=0;s<n;s++){for(var a=n-1-s,l=o.createImageData(i,1),d=a*i*4,p=0;p<r;p++)l.data[p]=c[d+p];o.putImageData(l,0,s)}var h=t.toDataURL("image/jpeg"),u=document.createElement("img");u.src=h,u.style.position="absolute",u.style.top="0",u.style.opacity="0.4",u.style.position="absolute",u.style.display="block",u.style.left="0px",u.style.top="200px",u.zIndex=100,u.style.borderRadius="100px";var f=new cc.Texture2D;f.initWithElement(u);var y=new cc.SpriteFrame;y.setTexture(f),y.setRect(new cc.Rect(0,0,750,1150)),this.screenShotSprite.spriteFrame=y,this.initCamera2(),this.createResultImg(),setTimeout(function(){e.initCamera2(),e.createResultImg()},1e3)},t.prototype.createResultImg=function(){var e=document.createElement("canvas"),t=e.getContext("2d"),o=this.texture2.width,i=this.texture2.height;console.log(o,i),e.width=o,e.height=i,this.camera2.render(this.test2);for(var n=this.texture2.readPixels(),c=4*o,r=0;r<i;r++){for(var s=i-1-r,a=t.createImageData(o,1),l=s*o*4,d=0;d<c;d++)a.data[d]=n[l+d];t.putImageData(a,0,r)}var p=e.toDataURL("image/jpeg"),h=document.createElement("img");h.src=p;var u=this.qrcodeNode.width*this.ratio,f=this.qrcodeNode.height*this.ratio;if(h.setAttribute("width",u+"px"),h.setAttribute("height",1.3*f+"px"),h.style.position="absolute",h.style.opacity="0.01",h.style.position="absolute",h.style.display="block",h.style.left="0px",this.firstOne)this.firstOne=!1,h.style.top="0",h.style.display="none";else{h.style.bottom=this.top+"px";var y=document.createElement("img");y.src="http://hi.sichuanair.com/foodgame1030/scarizhibo.jpg",y.width=u,y.height=2*f,y.style.position="absolute",y.style.opacity="0.01",y.style.position="absolute",y.style.display="none",y.style.left="30%",cc.game.container.appendChild(y),y.style.bottom="50px",this.img.push(y)}this.img.push(h),cc.game.container.appendChild(h)},n([l(cc.Label)],t.prototype,"descLabel",void 0),n([l(r.default)],t.prototype,"tangPinResultFood",void 0),n([l(r.default)],t.prototype,"zhuCaiResultFood",void 0),n([l(r.default)],t.prototype,"tianPinResultFood",void 0),n([l(r.default)],t.prototype,"zhongDianResultFood",void 0),n([l(r.default)],t.prototype,"qianCaiResultFood",void 0),n([l(r.default)],t.prototype,"qianCai1ResultFood",void 0),n([l(cc.Sprite)],t.prototype,"titleSprite",void 0),n([l([cc.SpriteFrame])],t.prototype,"titleSkins",void 0),n([l(cc.Node)],t.prototype,"qrcodeNode",void 0),n([l(cc.Camera)],t.prototype,"camera1",void 0),n([l(cc.Camera)],t.prototype,"camera2",void 0),n([l(cc.Sprite)],t.prototype,"screenShotSprite",void 0),n([l(cc.Node)],t.prototype,"shareTipNode",void 0),n([l(cc.Node)],t.prototype,"test1",void 0),n([l(cc.Node)],t.prototype,"test2",void 0),t=n([a],t)}(cc.Component);o.default=d,cc._RF.pop()},{"./Constant":"Constant","./ResultFood":"ResultFood"}],ScreenCaptureWindow:[function(e,t,o){"use strict";cc._RF.push(t,"94848QibhlO3ahwwUEGH4bh","ScreenCaptureWindow");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.capture=function(){var e=cc.find("Canvas/Camera").getComponent(cc.Camera),t=cc.find("Canvas/fuckme");console.log(t.width);var o=new cc.RenderTexture,i=cc.game._renderContext;o.initWithSize(t.width,t.height,i.STENCIL_INDEX8),e.targetTexture=o,this.texture=o;var n=this.texture.width,c=this.texture.height,r=document.createElement("canvas"),s=r.getContext("2d");r.width=n,r.height=c,e.render();for(var a=this.texture.readPixels(),l=4*n,d=0;d<c;d++){for(var p=c-1-d,h=s.createImageData(n,1),u=p*n*4,f=0;f<l;f++)h.data[f]=a[u+f];s.putImageData(h,0,d)}var y=r.toDataURL("image/jpeg"),g=document.createElement("img");return g.src=y,g},t.prototype.captureAndShow=function(){var e=this.capture(),t=new cc.Texture2D;t.initWithElement(e);var o=new cc.SpriteFrame;o.setTexture(t),o.setRect(new cc.Rect(0,0,750,1134)),cc.xieboSpriteFrame=o,console.log(cc.xieboSpriteFrame)},t=n([r],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],SelectedFood:[function(e,t,o){"use strict";cc._RF.push(t,"deb5cJzyXxBX4rNAIVeQHbR","SelectedFood");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./Constant"),r=cc._decorator,s=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label1=null,t.label2=null,t.type=c.FOOD_TYPE.QIAN_CAI,t.skinSprite=null,t._selected=!1,t.skinAltas=null,t.prefix="",t}return i(t,e),t.prototype.onLoad=function(){var e=this;cc.director.on("selectedType",function(t){e.type===t?e.node.opacity=255:e.node.opacity=0},this),console.log(this.type)},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skin",{get:function(){return this._skin},set:function(e){this._skin=e,this.skinSprite.spriteFrame=this.skinAltas.getSpriteFrame(""+this.prefix+e),this.skinSprite.node.runAction(cc.sequence(cc.scaleTo(0,0),cc.fadeIn(.3),cc.scaleTo(.3,1))),this.toggle||(this.toggle=this.getComponent(cc.Toggle)),this.toggle.isChecked=!0,this.selected=this.toggle.isChecked},enumerable:!0,configurable:!0}),n([a(cc.Label)],t.prototype,"label1",void 0),n([a(cc.Label)],t.prototype,"label2",void 0),n([a({type:cc.Enum(c.FOOD_TYPE)})],t.prototype,"type",void 0),n([a(cc.Sprite)],t.prototype,"skinSprite",void 0),n([a(cc.SpriteAtlas)],t.prototype,"skinAltas",void 0),n([a],t.prototype,"prefix",void 0),t=n([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./Constant":"Constant"}],ShareScene:[function(e,t,o){"use strict";cc._RF.push(t,"65981gFniFI5YQ511eHQR7j","ShareScene");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=c.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.screenShotSprite=null,t}return i(t,e),t.prototype.onLoad=function(){this.screenShotSprite.spriteFrame=cc.xieboSpriteFrame,console.log("==="),console.log(cc.xieboSpriteFrame)},n([s(cc.Sprite)],t.prototype,"screenShotSprite",void 0),t=n([r],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],Star:[function(e,t,o){"use strict";cc._RF.push(t,"130b6plx3pNbLFH4z657FAX","Star");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,r=c.ccclass,s=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.interval=.2,t.scaleList=[.8,.9,1,1.1,1.2],t}return i(t,e),t.prototype.onLoad=function(){var e=this,t=this.scaleList[Math.floor(Math.random()*this.scaleList.length)],o=Math.floor(10*Math.random()),i=Math.floor(10*Math.random()),n=this.node.position;this.node.runAction(cc.sequence(cc.moveTo(0,n.x-o,n.y-i),cc.moveTo(3,n),cc.fadeIn(1),cc.scaleTo(1,t),cc.callFunc(function(){e.node.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(e.interval,t),cc.scaleTo(e.interval,t-.3))))})))},t=n([r],t)}(cc.Component));o.default=s,cc._RF.pop()},{}],TypeFood:[function(e,t,o){"use strict";cc._RF.push(t,"bb052PatT9GJK0qPfGj4Dgc","TypeFood");var i=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),n=this&&this.__decorate||function(e,t,o,i){var n,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(c<3?n(r):c>3?n(t,o,r):n(t,o))||r);return c>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var c=e("./Constant"),r=cc._decorator,s=r.ccclass,a=r.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.descLabel=null,t.selecedNode=null,t.skinSprite=null,t.bgNode=null,t.skinAltas=null,t.prefix="",t.type=c.FOOD_TYPE.QIAN_CAI,t._desc="",t._selected=!1,t._enable=!0,t}return i(t,e),Object.defineProperty(t.prototype,"skin",{get:function(){return this._skin},set:function(e){this._skin=e,this.skinSprite.spriteFrame=this.skinAltas.getSpriteFrame(""+this.prefix+e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"desc",{get:function(){return this._desc},set:function(e){this._desc=e,this.descLabel.string=this._desc},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){this.selected=!this._selected,cc.director.emit("selectFood",this.type,this.skin)},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=e,this.selecedNode.active=!0,e?(this.bgNode.opacity=80,this.selecedNode.runAction(cc.sequence(cc.fadeIn(.3),cc.scaleTo(.3,1)))):(this.bgNode.opacity=0,this.selecedNode.runAction(cc.sequence(cc.fadeOut(0),cc.scaleTo(.3,0))))},enumerable:!0,configurable:!0}),t.prototype.onTouchStart=function(){this.selected=!this._selected,cc.director.emit("selectFood",this.type,this.skin)},t.prototype.init=function(e,t,o,i){void 0===i&&(i=!1),this.skin=o,this.desc=t,this.selected=i},n([a(cc.Label)],t.prototype,"descLabel",void 0),n([a(cc.Node)],t.prototype,"selecedNode",void 0),n([a(cc.Sprite)],t.prototype,"skinSprite",void 0),n([a(cc.Node)],t.prototype,"bgNode",void 0),n([a(cc.SpriteAtlas)],t.prototype,"skinAltas",void 0),n([a],t.prototype,"prefix",void 0),n([a({type:cc.Enum(c.FOOD_TYPE)})],t.prototype,"type",void 0),t=n([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./Constant":"Constant"}]},{},["AudioManager","BaseFood","Constant","CookScene","CookedFood","MainScene","MenuScene","ResultFood","ResultScene","ScreenCaptureWindow","SelectedFood","ShareScene","Star","TypeFood"]);